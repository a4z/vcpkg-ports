# vcpkg_check_linkage(ONLY_STATIC_LIBRARY)

vcpkg_from_github(
    OUT_SOURCE_PATH SOURCE_PATH
    REPO a4z/zq
    REF "${VERSION}"
    SHA512 9CFA3928DD08A3FA5A20EE0E23F6267C807E556A2CCF7F073A9B8A67C115B4804E393E724FBAA1579FA3B9C656040965E5C97F143BBC68C9640BD994D3CFC601
    HEAD_REF main
)


vcpkg_cmake_configure(
    SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS -DZQ_TEST_PROJECT=FALSE
)



vcpkg_cmake_install()

vcpkg_cmake_config_fixup(PACKAGE_NAME "zq" CONFIG_PATH "lib/cmake/zq")

# file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/include")

vcpkg_install_copyright(FILE_LIST "${SOURCE_PATH}/LICENSE")
configure_file("${CMAKE_CURRENT_LIST_DIR}/usage" "${CURRENT_PACKAGES_DIR}/share/${PORT}/usage" COPYONLY)
file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug" "${CURRENT_PACKAGES_DIR}/lib")
